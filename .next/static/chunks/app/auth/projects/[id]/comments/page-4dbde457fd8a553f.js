(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[297],{2860:(e,l,s)=>{Promise.resolve().then(s.bind(s,8760))},5828:(e,l,s)=>{"use strict";Object.defineProperty(l,"__esModule",{value:!0}),function(e,l){for(var s in l)Object.defineProperty(e,s,{enumerable:!0,get:l[s]})}(l,{callServer:function(){return a.callServer},createServerReference:function(){return t},findSourceMapURL:function(){return r.findSourceMapURL}});let a=s(9603),r=s(3355),t=s(4979).createServerReference},8760:(e,l,s)=>{"use strict";s.d(l,{default:()=>f});var a=s(5155),r=s(5828);let t=(0,r.createServerReference)("60d7b45ad4e9ffc42bb3cd9d63b735dbafd9b9848b",r.callServer,void 0,r.findSourceMapURL,"createProjectComment");var c=s(7396),n=s(2115);let d=(0,r.createServerReference)("6064a694b4af394d5bcc7a30cab7e26e94972d790e",r.callServer,void 0,r.findSourceMapURL,"deleteProjectComment");var i=s(5456);function x(e){let{commentId:l,projectId:s}=e,[r,t]=(0,n.useTransition)();return(0,a.jsxs)("div",{className:"w-full h-full flex items-center",children:[(0,a.jsx)("button",{className:" h-full w-full flex items-center justify-center pt-[25px]",value:l,onClick:async()=>{t(async()=>{await d(s,l)})},children:"Delete"}),r&&(0,a.jsx)(i.A,{message:"Deleting comment..."})]})}function f(e){var l;let{comments:s,users:r,projectId:d,userId:f}=e,[o,p,m]=(0,n.useActionState)(t,{errors:{title:[],tag:[]}});return(0,a.jsxs)("div",{className:"h-full w-full flex",children:[(0,a.jsx)("div",{className:"h-full w-[20%] bg-[#fbfbfb] flex items-center justify-center",children:(0,a.jsxs)("div",{className:"w-[60%] flex flex-col items-center gap-[10px]",children:[(0,a.jsxs)("div",{className:"flex gap-[10px] items-center justify-start w-full",children:[(0,a.jsx)("span",{className:"h-[10px] w-[10px] rounded-[20px] bg-[#2d2d2d]"}),(0,a.jsx)(c.default,{href:"/auth/projects/".concat(d),className:"text-[20px] text-[#2d2d2d]",children:"General info"})]}),(0,a.jsxs)("div",{className:"flex gap-[10px] items-center justify-start w-full",children:[(0,a.jsx)("span",{className:"h-[10px] w-[10px] bg-[#a2a2a2] rounded-[20px]"}),(0,a.jsx)(c.default,{href:"/auth/projects/".concat(d,"/comments"),className:"text-[20px] text-[#a2a2a2]",children:"Comments"})]})]})}),(0,a.jsx)("div",{className:"h-full w-[80%] bg-white p-[30px]",children:(0,a.jsxs)("div",{className:"h-full w-[50%] flex flex-col gap-[10px]",children:[(0,a.jsx)("span",{className:"text-[25px]",children:"Comments"}),(0,a.jsx)("div",{className:"max-h-[50%] w-full flex flex-col gap-[20px] overflow-y-scroll",children:s.map(e=>(0,a.jsxs)("div",{className:"flex gap-[20px]  h-[75px] w-full items-center",children:[(0,a.jsxs)("div",{className:"h-full w-[65%] flex flex-col gap-[10px]",children:[(0,a.jsx)("span",{children:"Comment"}),(0,a.jsx)("p",{className:"h-full flex items-center pl-[10px] w-full border-[1px] rounded-[10px]  outline-none",children:e.title})]}),(0,a.jsxs)("div",{className:"flex flex-col w-[25%] h-full gap-[10px]",children:[(0,a.jsx)("span",{children:"Tag"}),(0,a.jsx)("p",{className:"h-full w-full border-[1px] flex items-center pl-[10px] rounded-[10px] ",children:e.taggedUser.name})]}),(0,a.jsx)("div",{className:"w-[10%]",children:e.creatorId===f&&(0,a.jsx)(x,{commentId:e.id,projectId:d})})]},e.id))}),(0,a.jsxs)("form",{id:"createProjectCommentForm",action:p,className:"w-full flex flex-col gap-[10px]",children:[(0,a.jsx)("input",{type:"hidden",name:"projectId",value:d}),(0,a.jsxs)("div",{className:"flex w-full h-[75px] gap-[20px]",children:[(0,a.jsxs)("div",{className:"h-full w-[65%] flex flex-col gap-[10px]",children:[(0,a.jsx)("span",{children:"Comment"}),(0,a.jsx)("input",{type:"text",name:"title",className:"h-full w-full border-[1px] rounded-[10px] pl-[10px] outline-none"})]}),(0,a.jsxs)("div",{className:"flex flex-col w-[25%] gap-[10px]",children:[(0,a.jsx)("span",{children:"Tag"}),(0,a.jsx)("select",{name:"taggedUser",className:"h-full w-full border-[1px] rounded-[10px] ",children:r.map((e,l)=>(0,a.jsx)("option",{value:e.id,children:e.name},l))})]}),(0,a.jsx)("div",{className:"w-[10%] h-full"})]}),(null==o?void 0:null===(l=o.errors)||void 0===l?void 0:l.title)&&(0,a.jsx)("p",{children:o.errors.title}),(0,a.jsxs)("div",{className:"w-full flex gap-[40px]",children:[(0,a.jsx)("button",{type:"submit",form:"createProjectCommentForm",disabled:m,className:"w-[65%] h-[45px] bg-[#2d2d2d] text-white rounded-[10px]",children:"Add Comment"}),(0,a.jsx)("div",{className:"w-[35%]"})]})]})]})}),m&&(0,a.jsx)(i.A,{message:"Creating comment..."})]})}},5456:(e,l,s)=>{"use strict";s.d(l,{A:()=>c});var a=s(5155),r=s(6451),t=s.n(r);function c(e){let{message:l}=e;return(0,a.jsx)("div",{className:t().loading,children:(0,a.jsx)("p",{children:l})})}},6451:e=>{e.exports={loading:"styles_loading__o4T_w"}}},e=>{var l=l=>e(e.s=l);e.O(0,[165,396,441,517,358],()=>l(2860)),_N_E=e.O()}]);