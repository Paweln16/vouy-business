(()=>{var e={};e.id=861,e.ids=[861],e.modules={10846:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},19121:e=>{"use strict";e.exports=require("next/dist/server/app-render/action-async-storage.external.js")},29294:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-async-storage.external.js")},63033:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},33873:e=>{"use strict";e.exports=require("path")},4573:e=>{"use strict";e.exports=require("node:buffer")},77598:e=>{"use strict";e.exports=require("node:crypto")},57975:e=>{"use strict";e.exports=require("node:util")},11247:(e,t,s)=>{"use strict";s.r(t),s.d(t,{GlobalError:()=>n.a,__next_app__:()=>u,pages:()=>c,routeModule:()=>p,tree:()=>o});var r=s(70260),a=s(28203),i=s(25155),n=s.n(i),l=s(67292),d={};for(let e in l)0>["default","tree","pages","GlobalError","__next_app__","routeModule"].indexOf(e)&&(d[e]=()=>l[e]);s.d(t,d);let o=["",{children:["auth",{children:["projects",{children:["create",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(s.bind(s,67718)),"/Users/pawelniedzwiedz/Desktop/vouy-business/src/app/auth/projects/create/page.tsx"]}]},{}]},{}]},{layout:[()=>Promise.resolve().then(s.bind(s,95521)),"/Users/pawelniedzwiedz/Desktop/vouy-business/src/app/auth/layout.tsx"]}]},{layout:[()=>Promise.resolve().then(s.bind(s,71354)),"/Users/pawelniedzwiedz/Desktop/vouy-business/src/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(s.bind(s,50042)),"/Users/pawelniedzwiedz/Desktop/vouy-business/src/app/not-found.tsx"]}],c=["/Users/pawelniedzwiedz/Desktop/vouy-business/src/app/auth/projects/create/page.tsx"],u={require:s,loadChunk:()=>Promise.resolve()},p=new r.AppPageRouteModule({definition:{kind:a.RouteKind.APP_PAGE,page:"/auth/projects/create/page",pathname:"/auth/projects/create",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:o}})},22188:(e,t,s)=>{"use strict";s.r(t),s.d(t,{"00bcebb40af748360d3173b1776dfd0799709ea208":()=>r.C,"40ea56800d56936bda32cd1cadb6373068db5e5342":()=>x,"602b29eef00cea6ad8ae1c604f5d92bf056537389e":()=>f,"602c8709fdcf4a6f479ff290d544a00462faa494ee":()=>m,"605b65ca41235cba380fa2425f8a6273be12d9bf85":()=>r.J,"6064a694b4af394d5bcc7a30cab7e26e94972d790e":()=>j,"60d7b45ad4e9ffc42bb3cd9d63b735dbafd9b9848b":()=>b});var r=s(7939),a=s(21590);s(70376);var i=s(99184),n=s(16500);let l=n.z.object({title:n.z.string(),deadline:n.z.string(),details:n.z.string(),status:n.z.string(),netPrice:n.z.string(),tax:n.z.string(),price:n.z.string()}),d=n.z.object({title:n.z.string(),taggedUser:n.z.string(),projectId:n.z.string()});var o=s(42385),c=s(47735),u=s(53332),p=s(99344);let h=process.env.BASE_URL;async function f(e,t){let{isAuth:s}=await (0,u.g)();if(!s)return;let r=await (0,o.UL)(),a=r.get("session")?.value,n=l.safeParse({title:t.get("title"),deadline:t.get("deadline"),details:t.get("details"),status:t.get("status"),netPrice:t.get("netPrice"),tax:t.get("tax"),price:t.get("price")});return n.success?(await fetch(h+"/api/projects",{method:"POST",body:JSON.stringify(n.data),headers:{"Content-Type":"application/json",Authorization:`${a}`}})).ok?((0,c.revalidatePath)("/auth/projects"),(0,i.redirect)("/auth/projects")):{message:"Enter valid data"}:{errors:n.error?.flatten().fieldErrors}}async function m(e,t){let{isAuth:s}=await (0,u.g)();if(!s)return;let r=await (0,o.UL)(),a=r.get("session")?.value,i=l.safeParse({title:e.get("title"),deadline:e.get("deadline"),details:e.get("details"),status:e.get("status"),netPrice:e.get("netPrice"),tax:e.get("tax"),price:e.get("price")});return i.success?(await fetch(h+`/api/projects/${t}`,{headers:{"Content-Type":"application/json",Authorization:`${a}`},method:"PUT",body:JSON.stringify(i.data)})).ok?void(0,c.revalidatePath)("/auth/projects"):{message:"Enter valid data"}:{errors:i.error?.flatten().fieldErrors}}async function x(e){let{isAuth:t}=await (0,u.g)();if(!t)return;let s=await (0,o.UL)(),r=s.get("session")?.value;if(!(await fetch(h+`/api/projects/${e}`,{headers:{"Content-Type":"application/json",Authorization:`${r}`},method:"DELETE"})).ok)return{message:"Enter valid data"};(0,c.revalidatePath)("/auth/projects"),(0,i.redirect)("/auth/projects")}async function b(e,t){let{isAuth:s}=await (0,u.g)();if(!s)return;let r=await (0,o.UL)(),a=r.get("session")?.value,n=d.safeParse({title:t.get("title"),taggedUser:t.get("taggedUser"),projectId:t.get("projectId")});if(!n.success)return{errors:n.error?.flatten().fieldErrors};let l=n.data.projectId;return(await fetch(h+`/api/projects/${l}/comments`,{method:"POST",headers:{"Content-Type":"application/json",authorization:`${a}`},body:JSON.stringify(n.data)})).ok?((0,c.revalidatePath)(`/auth/projects/${l}/comments`),(0,i.redirect)(`/auth/projects/${l}/comments`)):{message:"Enter valid data"}}async function j(e,t){let{isAuth:s}=await (0,u.g)();if(!s)return;let r=await (0,o.UL)(),a=r.get("session")?.value;return(await fetch(h+`/api/projects/${e}/comments`,{method:"DELETE",headers:{authorization:`${a}`},body:JSON.stringify({commentId:t})})).ok?((0,c.revalidatePath)(`/auth/projects/${e}/comments`),(0,i.redirect)(`/auth/projects/${e}/comments`)):{message:"Enter valid data"}}(0,p.D)([f,m,x,b,j]),(0,a.A)(f,"602b29eef00cea6ad8ae1c604f5d92bf056537389e",null),(0,a.A)(m,"602c8709fdcf4a6f479ff290d544a00462faa494ee",null),(0,a.A)(x,"40ea56800d56936bda32cd1cadb6373068db5e5342",null),(0,a.A)(b,"60d7b45ad4e9ffc42bb3cd9d63b735dbafd9b9848b",null),(0,a.A)(j,"6064a694b4af394d5bcc7a30cab7e26e94972d790e",null)},55482:(e,t,s)=>{Promise.resolve().then(s.t.bind(s,13219,23)),Promise.resolve().then(s.t.bind(s,34863,23)),Promise.resolve().then(s.t.bind(s,25155,23)),Promise.resolve().then(s.t.bind(s,9350,23)),Promise.resolve().then(s.t.bind(s,96313,23)),Promise.resolve().then(s.t.bind(s,48530,23)),Promise.resolve().then(s.t.bind(s,88921,23))},23938:(e,t,s)=>{Promise.resolve().then(s.t.bind(s,66959,23)),Promise.resolve().then(s.t.bind(s,33875,23)),Promise.resolve().then(s.t.bind(s,88903,23)),Promise.resolve().then(s.t.bind(s,84178,23)),Promise.resolve().then(s.t.bind(s,86013,23)),Promise.resolve().then(s.t.bind(s,87190,23)),Promise.resolve().then(s.t.bind(s,61365,23))},82822:()=>{},68910:()=>{},25242:(e,t,s)=>{Promise.resolve().then(s.bind(s,68290))},65410:(e,t,s)=>{Promise.resolve().then(s.bind(s,41161))},75506:(e,t,s)=>{Promise.resolve().then(s.bind(s,14192))},64890:(e,t,s)=>{Promise.resolve().then(s.bind(s,72846))},96487:()=>{},78335:()=>{},41161:(e,t,s)=>{"use strict";s.d(t,{default:()=>u});var r=s(45512),a=s(26248);let i=(0,a.createServerReference)("602b29eef00cea6ad8ae1c604f5d92bf056537389e",a.callServer,void 0,a.findSourceMapURL,"createProject");var n=s(26008),l=s(58009),d=s(20863),o=s.n(d),c=s(19936);function u(){let[e,t,s]=(0,l.useActionState)(i,{errors:{title:[],deadline:[],details:[],status:[],netPrice:[],tax:[],price:[]},message:void 0});return(0,r.jsxs)("div",{className:o().projects,children:[(0,r.jsx)("div",{className:o().sidebar,children:(0,r.jsxs)("div",{className:o().sidebarContent,children:[(0,r.jsxs)("div",{className:o().item,children:[(0,r.jsx)("span",{style:{backgroundColor:"#a3a3a3"}}),(0,r.jsx)(n.default,{href:"/auth/projects/create",children:"General info"})]}),(0,r.jsxs)("div",{className:o().item,children:[(0,r.jsx)("span",{}),(0,r.jsx)("button",{type:"button",onClick:()=>{alert("You must create project first")},children:"Comments"})]})]})}),(0,r.jsx)("form",{action:t,id:"createProjectForm",className:o().form,children:(0,r.jsxs)("div",{className:o().formContent,children:[(0,r.jsx)("span",{className:o().heading,children:"General info"}),(0,r.jsxs)("div",{className:o().row,children:[(0,r.jsxs)("div",{className:o().col,children:[(0,r.jsx)("span",{children:"Title"}),(0,r.jsx)("input",{type:"text",name:"title",required:!0,className:o().input}),e?.errors?.title&&(0,r.jsx)("p",{children:e.errors.title})]}),(0,r.jsxs)("div",{className:o().col,children:[(0,r.jsx)("span",{children:"Deadline"}),(0,r.jsx)("input",{type:"text",name:"deadline",required:!0,className:o().input}),e?.errors?.deadline&&(0,r.jsx)("p",{children:e.errors.deadline})]})]}),(0,r.jsxs)("div",{className:o().fullRow,children:[(0,r.jsx)("span",{children:"Details"}),(0,r.jsx)("input",{type:"text",name:"details",required:!0,className:o().input}),e?.errors?.details&&(0,r.jsx)("p",{children:e.errors.deadline})]}),(0,r.jsx)("div",{className:o().row,children:(0,r.jsxs)("div",{className:o().col,children:[(0,r.jsx)("span",{children:"Status"}),(0,r.jsxs)("select",{className:o().input,name:"status",children:[(0,r.jsx)("option",{value:"Completed",children:"Completed"}),(0,r.jsx)("option",{value:"In progress",children:"In progress"}),(0,r.jsx)("option",{value:"Pending",children:"Pending"}),(0,r.jsx)("option",{value:"Rejected",children:"Rejected"})]})]})}),(0,r.jsxs)("div",{className:o().fullRow,children:[(0,r.jsx)("span",{children:"Net price"}),(0,r.jsx)("input",{type:"text",name:"netPrice",required:!0,className:o().input}),e?.errors?.netPrice&&(0,r.jsx)("p",{children:e.errors.netPrice})]}),(0,r.jsxs)("div",{className:o().fullRow,children:[(0,r.jsx)("span",{children:"Tax"}),(0,r.jsx)("input",{type:"text",name:"tax",required:!0,className:o().input}),e?.errors?.tax&&(0,r.jsx)("p",{children:e.errors.tax})]}),(0,r.jsxs)("div",{className:o().fullRow,children:[(0,r.jsx)("span",{children:"Price"}),(0,r.jsx)("input",{type:"text",name:"price",required:!0,className:o().input}),e?.errors?.price&&(0,r.jsx)("p",{children:e.errors.price})]}),(0,r.jsxs)("div",{className:o().buttons,children:[(0,r.jsx)("button",{className:o().submit,type:"submit",form:"createProjectForm",children:"Create Project"}),(0,r.jsx)(n.default,{href:"/auth/projects",className:o().cancel,children:"Cancel"})]})]})}),s&&(0,r.jsx)(c.A,{message:"Creating project..."})]})}},72846:(e,t,s)=>{"use strict";s.d(t,{default:()=>h});var r=s(45512),a=s(26008),i=s(79334),n=s(26248);let l=(0,n.createServerReference)("00bcebb40af748360d3173b1776dfd0799709ea208",n.callServer,void 0,n.findSourceMapURL,"signOut");function d(){return(0,r.jsx)("form",{action:l,className:"bg-[#2d2d2d] h-[35px] flex items-center justify-center text-white rounded-[5px] px-[15px]",children:(0,r.jsx)("button",{type:"submit",children:" Sign out"})})}var o=s(58009),c=s(68531),u=s(77612),p=s(74587);function h(){let e=[{label:"Dashboard",href:"/auth/dashboard"},{label:"Invoices",href:"/auth/invoices"},{label:"Projects",href:"/auth/projects"},{label:"Orders",href:"/auth/orders"},{label:"Tasks",href:"/auth/tasks"},{label:"Users",href:"/auth/users"},{label:"Company",href:"/auth/company"}],t=(0,i.usePathname)();function s(e){let t=e.match(/^\/[^/]+\/[^/]+/);return t?t[0]:null}let[n,l]=(0,o.useState)(!1),h={hidden:{height:"0"},visible:{height:"100vh",transition:{type:"tween",ease:(0,p.A)(.65,0,.35,1),duration:1.2}},exit:{y:"-100vh",height:0,transition:{type:"tween",duration:1,delay:.5}}},f={hidden:{opacity:0,y:"50%"},visible:{opacity:1,y:0,transition:{duration:.5,ease:(0,p.A)(.65,0,.35,1)}},exit:{opacity:0,y:"50%",transition:{duration:.1,ease:(0,p.A)(.65,0,.35,1)}}};return(0,r.jsxs)("div",{className:"w-screen h-[100px] bg-white fixed top-0 left-0 z-10 flex items-center px-[30px] gap-[100px]",children:[(0,r.jsx)("div",{className:"z-50",children:(0,r.jsx)(a.default,{href:"/auth/dashboard",className:"font-[600] text-[20px]",children:"VOUY"})}),(0,r.jsx)("div",{className:"hidden lg:flex gap-[25px]",children:e.map((e,i)=>(0,r.jsx)(a.default,{style:{color:e.href===s(t)?"#000000":"#979797"},href:e.href,children:e.label},i))}),(0,r.jsx)("div",{className:"hidden lg:flex w-full mb-[15px] justify-end",children:(0,r.jsx)(d,{})}),(0,r.jsx)("div",{className:"w-full justify-end flex z-50 lg:hidden mr-[10px]",onClick:()=>{l(!n)},children:n&&(0,r.jsx)("span",{children:"Close"})||(0,r.jsx)("span",{children:"Menu"})}),(0,r.jsx)(c.N,{children:n&&(0,r.jsx)(u.P.div,{variants:h,initial:"hidden",animate:"visible",exit:"exit",className:"overflow- bg-white z-0 top-0 left-0 h-screen w-screen fixed flex flex-col ",children:(0,r.jsx)("div",{className:"w-full flex items-center h-full",children:(0,r.jsx)(u.P.div,{variants:{hidden:{},visible:{transition:{staggerChildren:.2,delayChildren:.9}},exit:{transition:{staggerChildren:.05,staggerDirection:-1}}},initial:"hidden",animate:"visible",exit:"exit",className:"w-full  flex flex-col pl-[40px] text-[20px] ",children:e.map((e,i)=>(0,r.jsx)(u.P.span,{variants:f,children:(0,r.jsx)(a.default,{href:e.href,onClick:()=>{l(!1)},style:{color:e.href===s(t)?"#000000":"#979797"},children:e.label})},i))})})})})]})}},19936:(e,t,s)=>{"use strict";s.d(t,{A:()=>n});var r=s(45512),a=s(91680),i=s.n(a);function n({message:e}){return(0,r.jsx)("div",{className:i().loading,children:(0,r.jsx)("p",{children:e})})}},20863:e=>{e.exports={projects:"styles_projects__TJPKX",sidebar:"styles_sidebar__rWFf_",sidebarContent:"styles_sidebarContent__dDdeG",item:"styles_item___I9E0",form:"styles_form__RUjOH",formContent:"styles_formContent__685Ll",heading:"styles_heading__oLAzq",row:"styles_row__kImyw",fullRow:"styles_fullRow__6S_TP",col:"styles_col__7V3dE",input:"styles_input__OFIRA",buttons:"styles_buttons__FshbW",submit:"styles_submit__AO_oC",cancel:"styles_cancel__rC2R9"}},91680:e=>{e.exports={loading:"styles_loading__o4T_w"}},7939:(e,t,s)=>{"use strict";s.d(t,{J:()=>c,C:()=>u});var r=s(21590);s(70376);var a=s(99184),i=s(16500);let n=(0,i.Ik)({email:(0,i.Yj)({required_error:"Email is required"}).min(1,"Email is required").email("Invalid email"),password:(0,i.Yj)({required_error:"Password is required"}).min(1,"Password is required")});var l=s(6439),d=s(99344);let o=process.env.BASE_URL;async function c(e,t){let s=n.safeParse({email:t.get("email"),password:t.get("password")});if(!s.success)return{errors:s.error?.flatten().fieldErrors};let r=await fetch(o+"/api/auth",{method:"POST",headers:{"Content-Type":"application/jsop"},body:JSON.stringify(s.data)}).then(e=>e.json());await (0,l.jw)(r.id,r.organizationId),(0,a.redirect)("/auth/dashboard")}async function u(){return await (0,l.ME)(),(0,a.redirect)("/signin")}(0,d.D)([c,u]),(0,r.A)(c,"605b65ca41235cba380fa2425f8a6273be12d9bf85",null),(0,r.A)(u,"00bcebb40af748360d3173b1776dfd0799709ea208",null)},95521:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>i});var r=s(62740),a=s(14192);async function i({children:e}){return(0,r.jsxs)("div",{children:[(0,r.jsx)(a.default,{}),e]})}},68290:(e,t,s)=>{"use strict";s.d(t,{default:()=>r});let r=(0,s(46760).registerClientReference)(function(){throw Error("Attempted to call the default export of \"/Users/pawelniedzwiedz/Desktop/vouy-business/src/app/auth/projects/create/CreateProject/CreateProject.tsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/Users/pawelniedzwiedz/Desktop/vouy-business/src/app/auth/projects/create/CreateProject/CreateProject.tsx","default")},67718:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>i});var r=s(62740),a=s(68290);async function i(){return(0,r.jsx)("div",{className:"h-screen w-screen pt-[100px]",children:(0,r.jsx)(a.default,{})})}},71354:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>o,metadata:()=>d});var r=s(62740),a=s(52067),i=s.n(a),n=s(4738),l=s.n(n);s(61135);let d={title:"VOUY BUSINESS",description:"VOUY Business manager"};function o({children:e}){return(0,r.jsx)("html",{lang:"en",children:(0,r.jsx)("body",{className:`${i().variable} ${l().variable} antialiased`,children:e})})}},53332:(e,t,s)=>{"use strict";s.d(t,{g:()=>n});var r=s(42385),a=s(6439),i=s(99184);let n=async()=>{let e=(await r.UL()).get("session")?.value,t=await (0,a.Yc)(e);return t?.userId||(0,i.redirect)("/login"),{isAuth:!0,userId:t?.userId,organizationId:t?.organizationId}}},6439:(e,t,s)=>{"use strict";s.d(t,{ME:()=>u,Yc:()=>o,jw:()=>c});var r=s(42385),a=s(41231),i=s(13194);let n=process.env.AUTH_SECRET,l=new TextEncoder().encode(n);async function d(e){return new a.P(e).setProtectedHeader({alg:"HS256"}).setIssuedAt().setExpirationTime("7d").sign(l)}async function o(e=""){try{let{payload:t}=await (0,i.V)(e,l,{algorithms:["HS256"]});return t}catch(e){console.log("Failed to verify session")}}async function c(e,t){let s=new Date(Date.now()+6048e5),a=await (0,r.UL)(),i=await d({userId:e,organizationId:t,expiresAt:s});a.set("session",i,{httpOnly:!0,secure:!0,expires:s,sameSite:"lax",path:"/"})}async function u(){(await (0,r.UL)()).delete("session")}},50042:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>a});var r=s(62740);function a(){return(0,r.jsx)("div",{className:"overflow-hidden h-screen w-screen flex items-center bg-white justify-center text-[20px] font-[500]",children:(0,r.jsx)("p",{children:"Page not found"})})}},14192:(e,t,s)=>{"use strict";s.d(t,{default:()=>r});let r=(0,s(46760).registerClientReference)(function(){throw Error("Attempted to call the default export of \"/Users/pawelniedzwiedz/Desktop/vouy-business/src/components/Header/Header.tsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/Users/pawelniedzwiedz/Desktop/vouy-business/src/components/Header/Header.tsx","default")},61135:()=>{}};var t=require("../../../../webpack-runtime.js");t.C(e);var s=e=>t(t.s=e),r=t.X(0,[989,405,892,200,735],()=>s(11247));module.exports=r})();