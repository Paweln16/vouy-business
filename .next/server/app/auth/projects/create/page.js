(()=>{var e={};e.id=861,e.ids=[861],e.modules={10846:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},19121:e=>{"use strict";e.exports=require("next/dist/server/app-render/action-async-storage.external.js")},29294:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-async-storage.external.js")},63033:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},33873:e=>{"use strict";e.exports=require("path")},4573:e=>{"use strict";e.exports=require("node:buffer")},77598:e=>{"use strict";e.exports=require("node:crypto")},57975:e=>{"use strict";e.exports=require("node:util")},11247:(e,t,r)=>{"use strict";r.r(t),r.d(t,{GlobalError:()=>n.a,__next_app__:()=>u,pages:()=>c,routeModule:()=>p,tree:()=>o});var s=r(70260),a=r(28203),i=r(25155),n=r.n(i),l=r(67292),d={};for(let e in l)0>["default","tree","pages","GlobalError","__next_app__","routeModule"].indexOf(e)&&(d[e]=()=>l[e]);r.d(t,d);let o=["",{children:["auth",{children:["projects",{children:["create",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(r.bind(r,67718)),"/Users/pawelniedzwiedz/Desktop/vouy-business/src/app/auth/projects/create/page.tsx"]}]},{}]},{}]},{layout:[()=>Promise.resolve().then(r.bind(r,95521)),"/Users/pawelniedzwiedz/Desktop/vouy-business/src/app/auth/layout.tsx"]}]},{layout:[()=>Promise.resolve().then(r.bind(r,71354)),"/Users/pawelniedzwiedz/Desktop/vouy-business/src/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(r.bind(r,50042)),"/Users/pawelniedzwiedz/Desktop/vouy-business/src/app/not-found.tsx"]}],c=["/Users/pawelniedzwiedz/Desktop/vouy-business/src/app/auth/projects/create/page.tsx"],u={require:r,loadChunk:()=>Promise.resolve()},p=new s.AppPageRouteModule({definition:{kind:a.RouteKind.APP_PAGE,page:"/auth/projects/create/page",pathname:"/auth/projects/create",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:o}})},22188:(e,t,r)=>{"use strict";r.r(t),r.d(t,{"00bcebb40af748360d3173b1776dfd0799709ea208":()=>s.C,"40ea56800d56936bda32cd1cadb6373068db5e5342":()=>m,"602b29eef00cea6ad8ae1c604f5d92bf056537389e":()=>x,"602c8709fdcf4a6f479ff290d544a00462faa494ee":()=>h,"605b65ca41235cba380fa2425f8a6273be12d9bf85":()=>s.J,"6064a694b4af394d5bcc7a30cab7e26e94972d790e":()=>j,"60d7b45ad4e9ffc42bb3cd9d63b735dbafd9b9848b":()=>b});var s=r(7939),a=r(21590);r(70376);var i=r(99184),n=r(16500);let l=n.z.object({title:n.z.string(),deadline:n.z.string(),details:n.z.string(),status:n.z.string(),netPrice:n.z.string(),tax:n.z.string(),price:n.z.string()}),d=n.z.object({title:n.z.string(),taggedUser:n.z.string(),projectId:n.z.string()});var o=r(42385),c=r(47735),u=r(53332),p=r(99344);let f=process.env.BASE_URL;async function x(e,t){let{isAuth:r}=await (0,u.g)();if(!r)return;let s=await (0,o.UL)(),a=s.get("session")?.value,n=l.safeParse({title:t.get("title"),deadline:t.get("deadline"),details:t.get("details"),status:t.get("status"),netPrice:t.get("netPrice"),tax:t.get("tax"),price:t.get("price")});return n.success?(await fetch(f+"/api/projects",{method:"POST",body:JSON.stringify(n.data),headers:{"Content-Type":"application/json",Authorization:`${a}`}})).ok?((0,c.revalidatePath)("/auth/projects"),(0,i.redirect)("/auth/projects")):{message:"Enter valid data"}:{errors:n.error?.flatten().fieldErrors}}async function h(e,t){let{isAuth:r}=await (0,u.g)();if(!r)return;let s=await (0,o.UL)(),a=s.get("session")?.value,i=l.safeParse({title:e.get("title"),deadline:e.get("deadline"),details:e.get("details"),status:e.get("status"),netPrice:e.get("netPrice"),tax:e.get("tax"),price:e.get("price")});return i.success?(await fetch(f+`/api/projects/${t}`,{headers:{"Content-Type":"application/json",Authorization:`${a}`},method:"PUT",body:JSON.stringify(i.data)})).ok?void(0,c.revalidatePath)("/auth/projects"):{message:"Enter valid data"}:{errors:i.error?.flatten().fieldErrors}}async function m(e){let{isAuth:t}=await (0,u.g)();if(!t)return;let r=await (0,o.UL)(),s=r.get("session")?.value;if(!(await fetch(f+`/api/projects/${e}`,{headers:{"Content-Type":"application/json",Authorization:`${s}`},method:"DELETE"})).ok)return{message:"Enter valid data"};(0,c.revalidatePath)("/auth/projects"),(0,i.redirect)("/auth/projects")}async function b(e,t){let{isAuth:r}=await (0,u.g)();if(!r)return;let s=await (0,o.UL)(),a=s.get("session")?.value,n=d.safeParse({title:t.get("title"),taggedUser:t.get("taggedUser"),projectId:t.get("projectId")});if(!n.success)return{errors:n.error?.flatten().fieldErrors};let l=n.data.projectId;return(await fetch(f+`/api/projects/${l}/comments`,{method:"POST",headers:{"Content-Type":"application/json",authorization:`${a}`},body:JSON.stringify(n.data)})).ok?((0,c.revalidatePath)(`/auth/projects/${l}/comments`),(0,i.redirect)(`/auth/projects/${l}/comments`)):{message:"Enter valid data"}}async function j(e,t){let{isAuth:r}=await (0,u.g)();if(!r)return;let s=await (0,o.UL)(),a=s.get("session")?.value;return(await fetch(f+`/api/projects/${e}/comments`,{method:"DELETE",headers:{authorization:`${a}`},body:JSON.stringify({commentId:t})})).ok?((0,c.revalidatePath)(`/auth/projects/${e}/comments`),(0,i.redirect)(`/auth/projects/${e}/comments`)):{message:"Enter valid data"}}(0,p.D)([x,h,m,b,j]),(0,a.A)(x,"602b29eef00cea6ad8ae1c604f5d92bf056537389e",null),(0,a.A)(h,"602c8709fdcf4a6f479ff290d544a00462faa494ee",null),(0,a.A)(m,"40ea56800d56936bda32cd1cadb6373068db5e5342",null),(0,a.A)(b,"60d7b45ad4e9ffc42bb3cd9d63b735dbafd9b9848b",null),(0,a.A)(j,"6064a694b4af394d5bcc7a30cab7e26e94972d790e",null)},55482:(e,t,r)=>{Promise.resolve().then(r.t.bind(r,13219,23)),Promise.resolve().then(r.t.bind(r,34863,23)),Promise.resolve().then(r.t.bind(r,25155,23)),Promise.resolve().then(r.t.bind(r,9350,23)),Promise.resolve().then(r.t.bind(r,96313,23)),Promise.resolve().then(r.t.bind(r,48530,23)),Promise.resolve().then(r.t.bind(r,88921,23))},23938:(e,t,r)=>{Promise.resolve().then(r.t.bind(r,66959,23)),Promise.resolve().then(r.t.bind(r,33875,23)),Promise.resolve().then(r.t.bind(r,88903,23)),Promise.resolve().then(r.t.bind(r,84178,23)),Promise.resolve().then(r.t.bind(r,86013,23)),Promise.resolve().then(r.t.bind(r,87190,23)),Promise.resolve().then(r.t.bind(r,61365,23))},82822:()=>{},68910:()=>{},25242:(e,t,r)=>{Promise.resolve().then(r.bind(r,68290))},65410:(e,t,r)=>{Promise.resolve().then(r.bind(r,41161))},75506:(e,t,r)=>{Promise.resolve().then(r.bind(r,14192))},64890:(e,t,r)=>{Promise.resolve().then(r.bind(r,72846))},96487:()=>{},78335:()=>{},41161:(e,t,r)=>{"use strict";r.d(t,{default:()=>d});var s=r(45512),a=r(26248);let i=(0,a.createServerReference)("602b29eef00cea6ad8ae1c604f5d92bf056537389e",a.callServer,void 0,a.findSourceMapURL,"createProject");var n=r(26008),l=r(58009);function d(){let[e,t,r]=(0,l.useActionState)(i,{errors:{title:[],deadline:[],details:[],status:[],netPrice:[],tax:[],price:[]},message:void 0});return(0,s.jsxs)("div",{className:"h-full w-full",children:[(0,s.jsxs)("div",{className:"h-full w-full flex",children:[(0,s.jsx)("div",{className:"h-full w-[20%] bg-[#fbfbfb] flex items-center justify-center",children:(0,s.jsxs)("div",{className:"w-[60%] flex flex-col items-center gap-[10px]",children:[(0,s.jsxs)("div",{className:"flex gap-[10px] items-center justify-start w-full",children:[(0,s.jsx)("span",{className:"h-[10px] w-[10px] rounded-[20px] bg-[#a2a2a2]"}),(0,s.jsx)(n.default,{href:"/auth/projects/create",className:"text-[20px] text-[#a2a2a2]",children:"General info"})]}),(0,s.jsxs)("div",{className:"flex gap-[10px] items-center justify-start w-full",children:[(0,s.jsx)("span",{className:"h-[10px] w-[10px] bg-[#2d2d2d] rounded-[20px]"}),(0,s.jsx)("button",{type:"button",onClick:()=>{alert("You must create project first")},className:"text-[20px]",children:"Comments"})]})]})}),(0,s.jsx)("form",{action:t,id:"createProjectForm",className:"h-full w-[80%]",children:(0,s.jsx)("div",{className:"h-full w-full bg-white p-[30px] overflow-hidden",children:(0,s.jsxs)("div",{className:"h-full w-[50%] flex flex-col gap-[30px] ",children:[(0,s.jsx)("span",{className:"text-[25px]",children:"General info"}),(0,s.jsxs)("div",{className:"w-full h-full flex flex-col gap-[20px] ",children:[(0,s.jsxs)("div",{className:"w-full h-[80px] flex gap-[20px]",children:[(0,s.jsxs)("div",{className:"w-[50%] flex flex-col gap-[10px]",children:[(0,s.jsx)("span",{children:"Title"}),(0,s.jsx)("input",{type:"text",name:"title",required:!0,className:"w-full h-full border-[1px] rounded-[10px] pl-[10px] outline-none"}),e?.errors?.title&&(0,s.jsx)("p",{children:e.errors.title})]}),(0,s.jsxs)("div",{className:"w-[50%] h-full flex flex-col gap-[10px]",children:[(0,s.jsx)("span",{children:"Deadline"}),(0,s.jsx)("input",{type:"text",name:"deadline",required:!0,className:"h-full w-full border-[1px] rounded-[10px] pl-[10px] outline-none"}),e?.errors?.deadline&&(0,s.jsx)("p",{children:e.errors.deadline})]})]}),(0,s.jsxs)("div",{className:"w-full h-[80px] flex flex-col gap-[10px]",children:[(0,s.jsx)("span",{children:"Details"}),(0,s.jsx)("input",{type:"text",name:"details",required:!0,className:"h-full w-full border-[1px] rounded-[10px] outline-none pl-[10px]"}),e?.errors?.details&&(0,s.jsx)("p",{children:e.errors.deadline})]}),(0,s.jsx)("div",{className:"w-full h-[75px] flex gap-[20px]",children:(0,s.jsxs)("div",{className:"w-[50%] h-full flex flex-col gap-[10px]",children:[(0,s.jsx)("span",{children:"Status"}),(0,s.jsxs)("select",{className:"h-full w-full border-[1px] rounded-[10px] outline-none",name:"status",children:[(0,s.jsx)("option",{value:"Completed",children:"Completed"}),(0,s.jsx)("option",{value:"In progress",children:"In progress"}),(0,s.jsx)("option",{value:"Pending",children:"Pending"}),(0,s.jsx)("option",{value:"Rejected",children:"Rejected"})]})]})}),(0,s.jsxs)("div",{className:"w-full h-[80px] flex flex-col gap-[10px]",children:[(0,s.jsx)("span",{children:"Net price"}),(0,s.jsx)("input",{type:"text",name:"netPrice",required:!0,className:"h-full w-full border-[1px] rounded-[10px] outline-none pl-[10px]"}),e?.errors?.netPrice&&(0,s.jsx)("p",{children:e.errors.netPrice})]}),(0,s.jsxs)("div",{className:"w-full h-[80px] flex flex-col gap-[10px]",children:[(0,s.jsx)("span",{children:"Tax"}),(0,s.jsx)("input",{type:"text",name:"tax",required:!0,className:"h-full w-full border-[1px] rounded-[10px] outline-none pl-[10px]"}),e?.errors?.tax&&(0,s.jsx)("p",{children:e.errors.tax})]}),(0,s.jsxs)("div",{className:"w-full h-[80px] flex flex-col gap-[10px]",children:[(0,s.jsx)("span",{children:"Price"}),(0,s.jsx)("input",{type:"text",name:"price",required:!0,className:"h-full w-full border-[1px] rounded-[10px] outline-none pl-[10px]"}),e?.errors?.price&&(0,s.jsx)("p",{children:e.errors.price})]}),(0,s.jsx)("div",{className:"w-full",children:(0,s.jsx)("button",{className:"h-[50px] w-[50%] rounded-[10px] text-white bg-[#2d2d2d]",type:"submit",form:"createProjectForm",children:"Create Project"})})]})]})})})]}),r&&(0,s.jsx)("div",{className:"w-screen h-screen top-0 left-0 fixed bg-white flex items-center justify-center text-[20px] font-[500]",children:(0,s.jsx)("p",{children:"Creating project..."})})]})}},72846:(e,t,r)=>{"use strict";r.d(t,{default:()=>o});var s=r(45512),a=r(26008),i=r(79334),n=r(26248);let l=(0,n.createServerReference)("00bcebb40af748360d3173b1776dfd0799709ea208",n.callServer,void 0,n.findSourceMapURL,"signOut");function d(){return(0,s.jsx)("form",{action:l,className:"bg-[#2d2d2d] h-[35px] flex items-center justify-center text-white rounded-[5px] px-[15px]",children:(0,s.jsx)("button",{type:"submit",children:" Sign out"})})}function o(){let e=(0,i.usePathname)();return(0,s.jsxs)("div",{className:"w-screen h-[100px] bg-white fixed top-0 left-0 flex items-center px-[30px] gap-[100px]",children:[(0,s.jsx)("div",{children:(0,s.jsx)(a.default,{href:"/auth/dashboard",className:"font-[600] text-[20px]",children:"VOUY"})}),(0,s.jsx)("div",{className:"flex gap-[25px]",children:[{label:"Dashboard",href:"/auth/dashboard"},{label:"Invoices",href:"/auth/invoices"},{label:"Projects",href:"/auth/projects"},{label:"Orders",href:"/auth/orders"},{label:"Tasks",href:"/auth/tasks"},{label:"Users",href:"/auth/users"},{label:"Company",href:"/auth/company"}].map((t,r)=>(0,s.jsx)(a.default,{style:{color:t.href===function(e){let t=e.match(/^\/[^/]+\/[^/]+/);return t?t[0]:null}(e)?"#000000":"#979797"},href:t.href,children:t.label},r))}),(0,s.jsx)("div",{className:"w-full mb-[15px] flex justify-end",children:(0,s.jsx)(d,{})})]})}},7939:(e,t,r)=>{"use strict";r.d(t,{J:()=>c,C:()=>u});var s=r(21590);r(70376);var a=r(99184),i=r(16500);let n=(0,i.Ik)({email:(0,i.Yj)({required_error:"Email is required"}).min(1,"Email is required").email("Invalid email"),password:(0,i.Yj)({required_error:"Password is required"}).min(1,"Password is required")});var l=r(6439),d=r(99344);let o=process.env.BASE_URL;async function c(e,t){let r=n.safeParse({email:t.get("email"),password:t.get("password")});if(!r.success)return{errors:r.error?.flatten().fieldErrors};let s=await fetch(o+"/api/auth",{method:"POST",headers:{"Content-Type":"application/jsop"},body:JSON.stringify(r.data)}).then(e=>e.json());await (0,l.jw)(s.id,s.organizationId),(0,a.redirect)("/auth/dashboard")}async function u(){return await (0,l.ME)(),(0,a.redirect)("/signin")}(0,d.D)([c,u]),(0,s.A)(c,"605b65ca41235cba380fa2425f8a6273be12d9bf85",null),(0,s.A)(u,"00bcebb40af748360d3173b1776dfd0799709ea208",null)},95521:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>i});var s=r(62740),a=r(14192);async function i({children:e}){return(0,s.jsxs)("div",{children:[(0,s.jsx)(a.default,{}),e]})}},68290:(e,t,r)=>{"use strict";r.d(t,{default:()=>s});let s=(0,r(46760).registerClientReference)(function(){throw Error("Attempted to call the default export of \"/Users/pawelniedzwiedz/Desktop/vouy-business/src/app/auth/projects/create/CreateProject/CreateProject.tsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/Users/pawelniedzwiedz/Desktop/vouy-business/src/app/auth/projects/create/CreateProject/CreateProject.tsx","default")},67718:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>i});var s=r(62740),a=r(68290);async function i(){return(0,s.jsx)("div",{className:"h-screen w-screen pt-[100px]",children:(0,s.jsx)(a.default,{})})}},71354:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>o,metadata:()=>d});var s=r(62740),a=r(52067),i=r.n(a),n=r(4738),l=r.n(n);r(61135);let d={title:"VOUY BUSINESS",description:"VOUY Business manager"};function o({children:e}){return(0,s.jsx)("html",{lang:"en",children:(0,s.jsx)("body",{className:`${i().variable} ${l().variable} antialiased`,children:e})})}},53332:(e,t,r)=>{"use strict";r.d(t,{g:()=>n});var s=r(42385),a=r(6439),i=r(99184);let n=async()=>{let e=(await s.UL()).get("session")?.value,t=await (0,a.Yc)(e);return t?.userId||(0,i.redirect)("/login"),{isAuth:!0,userId:t?.userId,organizationId:t?.organizationId}}},6439:(e,t,r)=>{"use strict";r.d(t,{ME:()=>u,Yc:()=>o,jw:()=>c});var s=r(42385),a=r(41231),i=r(13194);let n=process.env.AUTH_SECRET,l=new TextEncoder().encode(n);async function d(e){return new a.P(e).setProtectedHeader({alg:"HS256"}).setIssuedAt().setExpirationTime("7d").sign(l)}async function o(e=""){try{let{payload:t}=await (0,i.V)(e,l,{algorithms:["HS256"]});return t}catch(e){console.log("Failed to verify session")}}async function c(e,t){let r=new Date(Date.now()+6048e5),a=await (0,s.UL)(),i=await d({userId:e,organizationId:t,expiresAt:r});a.set("session",i,{httpOnly:!0,secure:!0,expires:r,sameSite:"lax",path:"/"})}async function u(){(await (0,s.UL)()).delete("session")}},50042:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>a});var s=r(62740);function a(){return(0,s.jsx)("div",{className:"overflow-hidden h-screen w-screen flex items-center bg-white justify-center text-[20px] font-[500]",children:(0,s.jsx)("p",{children:"Page not found"})})}},14192:(e,t,r)=>{"use strict";r.d(t,{default:()=>s});let s=(0,r(46760).registerClientReference)(function(){throw Error("Attempted to call the default export of \"/Users/pawelniedzwiedz/Desktop/vouy-business/src/components/Header/Header.tsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/Users/pawelniedzwiedz/Desktop/vouy-business/src/components/Header/Header.tsx","default")},61135:()=>{}};var t=require("../../../../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),s=t.X(0,[989,405,892,987,735],()=>r(11247));module.exports=s})();