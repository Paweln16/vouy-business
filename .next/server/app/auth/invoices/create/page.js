(()=>{var e={};e.id=427,e.ids=[427],e.modules={10846:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},19121:e=>{"use strict";e.exports=require("next/dist/server/app-render/action-async-storage.external.js")},29294:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-async-storage.external.js")},63033:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},33873:e=>{"use strict";e.exports=require("path")},4573:e=>{"use strict";e.exports=require("node:buffer")},77598:e=>{"use strict";e.exports=require("node:crypto")},57975:e=>{"use strict";e.exports=require("node:util")},91487:(e,s,t)=>{"use strict";t.r(s),t.d(s,{GlobalError:()=>i.a,__next_app__:()=>p,pages:()=>o,routeModule:()=>x,tree:()=>c});var r=t(70260),a=t(28203),l=t(25155),i=t.n(l),n=t(67292),d={};for(let e in n)0>["default","tree","pages","GlobalError","__next_app__","routeModule"].indexOf(e)&&(d[e]=()=>n[e]);t.d(s,d);let c=["",{children:["auth",{children:["invoices",{children:["create",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(t.bind(t,55224)),"/Users/pawelniedzwiedz/Desktop/vouy-business/src/app/auth/invoices/create/page.tsx"]}]},{}]},{}]},{layout:[()=>Promise.resolve().then(t.bind(t,95521)),"/Users/pawelniedzwiedz/Desktop/vouy-business/src/app/auth/layout.tsx"]}]},{layout:[()=>Promise.resolve().then(t.bind(t,71354)),"/Users/pawelniedzwiedz/Desktop/vouy-business/src/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(t.bind(t,50042)),"/Users/pawelniedzwiedz/Desktop/vouy-business/src/app/not-found.tsx"]}],o=["/Users/pawelniedzwiedz/Desktop/vouy-business/src/app/auth/invoices/create/page.tsx"],p={require:t,loadChunk:()=>Promise.resolve()},x=new r.AppPageRouteModule({definition:{kind:a.RouteKind.APP_PAGE,page:"/auth/invoices/create/page",pathname:"/auth/invoices/create",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:c}})},15320:(e,s,t)=>{"use strict";t.r(s),t.d(s,{"00bcebb40af748360d3173b1776dfd0799709ea208":()=>r.C,"406c9a399a5dfcec52fe686dba0e6828ffa2c4c058":()=>f,"600d8c447bc60900237d76adaf3e2917fcd0507ef8":()=>u,"60445e01d6a067fdf6ea66b9e9e56d711fd10033db":()=>x,"605b65ca41235cba380fa2425f8a6273be12d9bf85":()=>r.J});var r=t(7939),a=t(21590);t(70376);var l=t(99184),i=t(16500);let n=i.z.object({title:i.z.string().min(3,{message:"Title should be at least 3 characters"}),deadline:i.z.string().min(3,{message:"Deadline should be at least 3 characters"}),details:i.z.string().min(3,{message:"Details should be at least 3 characters"}),status:i.z.string(),type:i.z.string(),netPrice:i.z.string().min(3,{message:"Net price should be at least 3 characters"}),tax:i.z.string().min(2,{message:"Tax should be at least 3 characters"}),price:i.z.string().min(3,{message:"Price should be at least 3 characters"})});var d=t(42385),c=t(53332),o=t(99344);let p=process.env.BASE_URL;async function x(e,s){let{isAuth:t}=await (0,c.g)();if(!t)return;let r=await (0,d.UL)(),a=r.get("session")?.value,i=n.safeParse({title:s.get("title"),deadline:s.get("deadline"),details:s.get("details"),status:s.get("status"),type:s.get("type"),netPrice:s.get("netPrice"),tax:s.get("tax"),price:s.get("price")});return i.success?(await fetch(p+"/api/invoices",{method:"POST",body:JSON.stringify(i.data),headers:{"Content-Type":"application/json",Authorization:`${a}`}})).ok?(0,l.redirect)("/auth/invoices"):{message:"Error creaing an invoice"}:{errors:i.error?.flatten().fieldErrors}}async function u(e,s){let{isAuth:t}=await (0,c.g)();if(!t)return;let r=await (0,d.UL)(),a=r.get("session")?.value,l=n.safeParse({title:e.get("title"),deadline:e.get("deadline"),details:e.get("details"),status:e.get("status"),type:e.get("type"),netPrice:e.get("netPrice"),tax:e.get("tax"),price:e.get("price")});return l.success?(await fetch(p+`/api/invoices/${s}`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`${a}`},body:JSON.stringify(l.data)})).ok?void 0:{message:"Enter valid data"}:{errors:l.error?.flatten().fieldErrors}}async function f(e){let{isAuth:s}=await (0,c.g)();if(!s)return;let t=await (0,d.UL)(),r=t.get("session")?.value;return(await fetch(p+`/api/invoices/${e}`,{method:"DELETE",headers:{Authorization:`${r}`}})).ok?(0,l.redirect)("/auth/invoices"):{message:"Error deleting invoice"}}(0,o.D)([x,u,f]),(0,a.A)(x,"60445e01d6a067fdf6ea66b9e9e56d711fd10033db",null),(0,a.A)(u,"600d8c447bc60900237d76adaf3e2917fcd0507ef8",null),(0,a.A)(f,"406c9a399a5dfcec52fe686dba0e6828ffa2c4c058",null)},55482:(e,s,t)=>{Promise.resolve().then(t.t.bind(t,13219,23)),Promise.resolve().then(t.t.bind(t,34863,23)),Promise.resolve().then(t.t.bind(t,25155,23)),Promise.resolve().then(t.t.bind(t,9350,23)),Promise.resolve().then(t.t.bind(t,96313,23)),Promise.resolve().then(t.t.bind(t,48530,23)),Promise.resolve().then(t.t.bind(t,88921,23))},23938:(e,s,t)=>{Promise.resolve().then(t.t.bind(t,66959,23)),Promise.resolve().then(t.t.bind(t,33875,23)),Promise.resolve().then(t.t.bind(t,88903,23)),Promise.resolve().then(t.t.bind(t,84178,23)),Promise.resolve().then(t.t.bind(t,86013,23)),Promise.resolve().then(t.t.bind(t,87190,23)),Promise.resolve().then(t.t.bind(t,61365,23))},82822:()=>{},68910:()=>{},62008:(e,s,t)=>{Promise.resolve().then(t.bind(t,65424))},71736:(e,s,t)=>{Promise.resolve().then(t.bind(t,81131))},75506:(e,s,t)=>{Promise.resolve().then(t.bind(t,14192))},64890:(e,s,t)=>{Promise.resolve().then(t.bind(t,72846))},96487:()=>{},78335:()=>{},81131:(e,s,t)=>{"use strict";t.d(s,{default:()=>d});var r=t(45512),a=t(26248);let l=(0,a.createServerReference)("60445e01d6a067fdf6ea66b9e9e56d711fd10033db",a.callServer,void 0,a.findSourceMapURL,"createInvoice");var i=t(26008),n=t(58009);function d(){let[e,s]=(0,n.useState)({title:"",deadline:"",details:"",status:"",type:"",netPrice:"",tax:"",price:""}),[t,a,d]=(0,n.useActionState)(l,{errors:{title:[],deadline:[],details:[],status:[],type:[],netPrice:[],tax:[],price:[]}});function c(t){let{name:r,value:a}=t.target;switch(r){case"title":s({...e,title:a});break;case"deadline":s({...e,deadline:a});break;case"details":s({...e,details:a});break;case"status":s({...e,status:a});break;case"type":s({...e,type:a});break;case"netPrice":s({...e,netPrice:a});break;case"tax":s({...e,tax:a});break;case"price":s({...e,price:a})}}return(0,r.jsxs)("div",{className:"w-full h-full",children:[(0,r.jsxs)("div",{className:"w-full h-full flex",children:[(0,r.jsx)("div",{className:"h-full w-[50%] flex justify-center items-center",children:(0,r.jsxs)("div",{className:"w-[80%] h-[90%] p-[0px] flex flex-col gap-[30px]",children:[(0,r.jsx)("span",{className:"text-[25px]",children:"Invoice Details"}),(0,r.jsxs)("form",{action:a,id:"createInvoiceForm",className:"w-full h-full flex flex-col gap-[20px]",children:[(0,r.jsxs)("div",{className:"w-full h-[80px] flex gap-[20px]",children:[(0,r.jsxs)("div",{className:"flex flex-col gap-[10px] w-[50%] items-start",children:[(0,r.jsx)("span",{children:"Title"}),(0,r.jsx)("input",{onChange:c,className:"w-full h-[50px] border-[1px] rounded-[10px] outline-none pl-[10px]",type:"text",name:"title"}),t?.errors?.title&&(0,r.jsx)("p",{children:t.errors.title})]}),(0,r.jsxs)("div",{className:"flex flex-col gap-[10px] w-[50%] items-start",children:[(0,r.jsx)("span",{children:"Deadline"}),(0,r.jsx)("input",{onChange:c,className:"w-full h-[50px] border-[1px] rounded-[10px] outline-none pl-[10px]",type:"text",name:"deadline"}),t?.errors?.deadline&&(0,r.jsx)("p",{children:t.errors.deadline})]})]}),(0,r.jsxs)("div",{className:"w-full h-[80px] flex flex-col gap-[10px]",children:[(0,r.jsx)("span",{children:"Details"}),(0,r.jsx)("input",{onChange:c,type:"text",name:"details",className:"h-full border-[1px] rounded-[10px] outline-none pl-[10px]"}),t?.errors?.details&&(0,r.jsx)("p",{children:t.errors.details})]}),(0,r.jsxs)("div",{className:"w-full h-[80px] flex gap-[20px]",children:[(0,r.jsxs)("div",{className:"flex flex-col gap-[10px] w-[50%] items-start",children:[(0,r.jsx)("span",{children:"Status"}),(0,r.jsxs)("select",{name:"status",defaultValue:"Unpaid",onChange:c,className:"w-full outline-none border-[1px] rounded-[10px] h-full",children:[(0,r.jsx)("option",{value:"Unpaid",children:"Unpaid"}),(0,r.jsx)("option",{value:"Paid",children:"Paid"}),(0,r.jsx)("option",{value:"Pending",children:"Pending"}),(0,r.jsx)("option",{value:"Rejected",children:"Rejected"})]})]}),(0,r.jsxs)("div",{className:"flex flex-col gap-[10px] w-[50%] items-start",children:[(0,r.jsx)("span",{children:"Type"}),(0,r.jsxs)("select",{name:"type",defaultValue:"salesInvoice",onChange:c,className:"w-full outline-none border-[1px] rounded-[10px] h-full",children:[(0,r.jsx)("option",{value:"Sales Invoice",children:"Sales invoice"}),(0,r.jsx)("option",{value:"Cost Invoice",children:"Cost Invoice"})]})]})]}),(0,r.jsxs)("div",{className:"w-full h-[80px] flex flex-col gap-[10px]",children:[(0,r.jsx)("span",{children:"Net price"}),(0,r.jsx)("input",{onChange:c,type:"text",name:"netPrice",className:"h-full border-[1px] rounded-[10px] outline-none pl-[10px]"}),t?.errors?.netPrice&&(0,r.jsx)("p",{children:t.errors.netPrice})]}),(0,r.jsxs)("div",{className:"w-full h-[80px] flex flex-col gap-[10px]",children:[(0,r.jsx)("span",{children:"Tax"}),(0,r.jsx)("input",{onChange:c,type:"text",name:"tax",className:"h-full border-[1px] rounded-[10px] outline-none pl-[10px]"}),t?.errors?.tax&&(0,r.jsx)("p",{children:t.errors.tax})]}),(0,r.jsxs)("div",{className:"w-full h-[80px] flex flex-col gap-[10px]",children:[(0,r.jsx)("span",{children:"Price"}),(0,r.jsx)("input",{onChange:c,type:"text",name:"price",className:"h-full border-[1px] rounded-[10px] outline-none pl-[10px]"}),t?.errors?.price&&(0,r.jsx)("p",{children:t.errors.price})]}),(0,r.jsxs)("div",{className:"w-full h-[50px] flex gap-[20px] mt-[20px]",children:[(0,r.jsx)("button",{type:"submit",form:"createInvoiceForm",disabled:d,className:"bg-[#2d2d2d] text-white w-[50%] rounded-[10px]",children:"Create invoice"}),(0,r.jsx)(i.default,{href:"/auth/invoices",className:"h-full w-[50%] flex items-center justify-center",children:"Cancel"})]})]})]})}),(0,r.jsx)("div",{className:"h-full w-[50%] bg-[#fbfbfb] flex items-center justify-center",children:(0,r.jsxs)("div",{className:"h-[90%] w-[75%] bg-white rounded-[10px] shadow-xl p-[30px] flex flex-col gap-[30px]",children:[(0,r.jsx)("span",{className:"text-[25px] font-[600]",children:"Invoice"}),(0,r.jsxs)("div",{className:"w-full flex flex-col gap-[20px]",children:[(0,r.jsxs)("div",{className:"w-full h-[80px] flex gap-[20px]",children:[(0,r.jsxs)("div",{className:"w-[50%] h-full flex flex-col gap-[10px]",children:[(0,r.jsx)("span",{children:"Title"}),(0,r.jsx)("div",{className:"w-full h-full flex items-center border-[1px] rounded-[10px]",children:(0,r.jsx)("p",{className:"pl-[10px]",children:e.title})})]}),(0,r.jsxs)("div",{className:"w-[50%] h-full flex flex-col gap-[10px]",children:[(0,r.jsx)("span",{children:"Deadline"}),(0,r.jsx)("div",{className:"w-full h-full flex items-center border-[1px] rounded-[10px]",children:(0,r.jsx)("p",{className:"pl-[10px]",children:e.deadline})})]})]}),(0,r.jsxs)("div",{className:"w-full h-[80px] flex flex-col gap-[10px]",children:[(0,r.jsx)("span",{children:"Details"}),(0,r.jsx)("div",{className:"w-full h-full flex items-center border-[1px] rounded-[10px]",children:(0,r.jsx)("p",{className:"pl-[10px]",children:e.details})})]}),(0,r.jsxs)("div",{className:"w-full h-[80px] flex gap-[20px]",children:[(0,r.jsxs)("div",{className:"w-[50%] h-full flex flex-col gap-[10px]",children:[(0,r.jsx)("span",{children:"Status"}),(0,r.jsx)("div",{className:"w-full h-full flex items-center border-[1px] rounded-[10px]",children:(0,r.jsx)("p",{className:"pl-[10px]",children:e.status})})]}),(0,r.jsxs)("div",{className:"w-[50%] h-full flex flex-col gap-[10px]",children:[(0,r.jsx)("span",{children:"Type"}),(0,r.jsx)("div",{className:"w-full h-full flex items-center border-[1px] rounded-[10px]",children:(0,r.jsx)("p",{className:"pl-[10px]",children:e.type})})]})]}),(0,r.jsxs)("div",{className:"w-full h-[80px] flex flex-col gap-[10px]",children:[(0,r.jsx)("span",{children:"Net Price"}),(0,r.jsx)("div",{className:"w-full h-full flex items-center border-[1px] rounded-[10px]",children:(0,r.jsx)("p",{className:"pl-[10px]",children:e.netPrice})})]}),(0,r.jsxs)("div",{className:"w-full h-[80px] flex flex-col gap-[10px]",children:[(0,r.jsx)("span",{children:"Tax"}),(0,r.jsx)("div",{className:"w-full h-full flex items-center border-[1px] rounded-[10px]",children:(0,r.jsx)("p",{className:"pl-[10px]",children:e.tax})})]}),(0,r.jsxs)("div",{className:"w-full h-[80px] flex flex-col gap-[10px]",children:[(0,r.jsx)("span",{children:"Price"}),(0,r.jsx)("div",{className:"w-full h-full flex items-center border-[1px] rounded-[10px]",children:(0,r.jsx)("p",{className:"pl-[10px]",children:e.price})})]})]})]})})]}),d&&(0,r.jsx)("div",{className:"h-screen w-screen fixed top-0 left-0 bg-white flex items-center justify-center font-[500] text-[20px]",children:(0,r.jsx)("p",{children:"Creating invoice..."})})]})}},72846:(e,s,t)=>{"use strict";t.d(s,{default:()=>c});var r=t(45512),a=t(26008),l=t(79334),i=t(26248);let n=(0,i.createServerReference)("00bcebb40af748360d3173b1776dfd0799709ea208",i.callServer,void 0,i.findSourceMapURL,"signOut");function d(){return(0,r.jsx)("form",{action:n,className:"bg-[#2d2d2d] h-[35px] flex items-center justify-center text-white rounded-[5px] px-[15px]",children:(0,r.jsx)("button",{type:"submit",children:" Sign out"})})}function c(){let e=(0,l.usePathname)();return(0,r.jsxs)("div",{className:"w-screen h-[100px] bg-white fixed top-0 left-0 flex items-center px-[30px] gap-[100px]",children:[(0,r.jsx)("div",{children:(0,r.jsx)(a.default,{href:"/auth/dashboard",className:"font-[600] text-[20px]",children:"VOUY"})}),(0,r.jsx)("div",{className:"flex gap-[25px]",children:[{label:"Dashboard",href:"/auth/dashboard"},{label:"Invoices",href:"/auth/invoices"},{label:"Projects",href:"/auth/projects"},{label:"Orders",href:"/auth/orders"},{label:"Tasks",href:"/auth/tasks"},{label:"Users",href:"/auth/users"},{label:"Company",href:"/auth/company"}].map((s,t)=>(0,r.jsx)(a.default,{style:{color:s.href===function(e){let s=e.match(/^\/[^/]+\/[^/]+/);return s?s[0]:null}(e)?"#000000":"#979797"},href:s.href,children:s.label},t))}),(0,r.jsx)("div",{className:"w-full mb-[15px] flex justify-end",children:(0,r.jsx)(d,{})})]})}},7939:(e,s,t)=>{"use strict";t.d(s,{J:()=>o,C:()=>p});var r=t(21590);t(70376);var a=t(99184),l=t(16500);let i=(0,l.Ik)({email:(0,l.Yj)({required_error:"Email is required"}).min(1,"Email is required").email("Invalid email"),password:(0,l.Yj)({required_error:"Password is required"}).min(1,"Password is required")});var n=t(6439),d=t(99344);let c=process.env.BASE_URL;async function o(e,s){let t=i.safeParse({email:s.get("email"),password:s.get("password")});if(!t.success)return{errors:t.error?.flatten().fieldErrors};let r=await fetch(c+"/api/auth",{method:"POST",headers:{"Content-Type":"application/jsop"},body:JSON.stringify(t.data)}).then(e=>e.json());await (0,n.jw)(r.id,r.organizationId),(0,a.redirect)("/auth/dashboard")}async function p(){return await (0,n.ME)(),(0,a.redirect)("/signin")}(0,d.D)([o,p]),(0,r.A)(o,"605b65ca41235cba380fa2425f8a6273be12d9bf85",null),(0,r.A)(p,"00bcebb40af748360d3173b1776dfd0799709ea208",null)},65424:(e,s,t)=>{"use strict";t.d(s,{default:()=>r});let r=(0,t(46760).registerClientReference)(function(){throw Error("Attempted to call the default export of \"/Users/pawelniedzwiedz/Desktop/vouy-business/src/app/auth/invoices/create/CreateInvoice/CreateInvoice.tsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/Users/pawelniedzwiedz/Desktop/vouy-business/src/app/auth/invoices/create/CreateInvoice/CreateInvoice.tsx","default")},55224:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>l});var r=t(62740),a=t(65424);async function l(){return(0,r.jsx)("div",{className:"h-screen w-screen pt-[100px]",children:(0,r.jsx)(a.default,{})})}},95521:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>l});var r=t(62740),a=t(14192);async function l({children:e}){return(0,r.jsxs)("div",{children:[(0,r.jsx)(a.default,{}),e]})}},71354:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>c,metadata:()=>d});var r=t(62740),a=t(52067),l=t.n(a),i=t(4738),n=t.n(i);t(61135);let d={title:"VOUY BUSINESS",description:"VOUY Business manager"};function c({children:e}){return(0,r.jsx)("html",{lang:"en",children:(0,r.jsx)("body",{className:`${l().variable} ${n().variable} antialiased`,children:e})})}},53332:(e,s,t)=>{"use strict";t.d(s,{g:()=>i});var r=t(42385),a=t(6439),l=t(99184);let i=async()=>{let e=(await r.UL()).get("session")?.value,s=await (0,a.Yc)(e);return s?.userId||(0,l.redirect)("/login"),{isAuth:!0,userId:s?.userId,organizationId:s?.organizationId}}},6439:(e,s,t)=>{"use strict";t.d(s,{ME:()=>p,Yc:()=>c,jw:()=>o});var r=t(42385),a=t(41231),l=t(13194);let i=process.env.AUTH_SECRET,n=new TextEncoder().encode(i);async function d(e){return new a.P(e).setProtectedHeader({alg:"HS256"}).setIssuedAt().setExpirationTime("7d").sign(n)}async function c(e=""){try{let{payload:s}=await (0,l.V)(e,n,{algorithms:["HS256"]});return s}catch(e){console.log("Failed to verify session")}}async function o(e,s){let t=new Date(Date.now()+6048e5),a=await (0,r.UL)(),l=await d({userId:e,organizationId:s,expiresAt:t});a.set("session",l,{httpOnly:!0,secure:!0,expires:t,sameSite:"lax",path:"/"})}async function p(){(await (0,r.UL)()).delete("session")}},50042:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>a});var r=t(62740);function a(){return(0,r.jsx)("div",{className:"overflow-hidden h-screen w-screen flex items-center bg-white justify-center text-[20px] font-[500]",children:(0,r.jsx)("p",{children:"Page not found"})})}},14192:(e,s,t)=>{"use strict";t.d(s,{default:()=>r});let r=(0,t(46760).registerClientReference)(function(){throw Error("Attempted to call the default export of \"/Users/pawelniedzwiedz/Desktop/vouy-business/src/components/Header/Header.tsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/Users/pawelniedzwiedz/Desktop/vouy-business/src/components/Header/Header.tsx","default")},61135:()=>{}};var s=require("../../../../webpack-runtime.js");s.C(e);var t=e=>s(s.s=e),r=s.X(0,[989,405,892,987],()=>t(91487));module.exports=r})();